specVersion: 0.0.2
schema:
  file: ./schema.graphql
dataSources:
  - kind: ethereum
    name: QBWorkspaceRegistryContract
    network: rinkeby
    source:
      address: "0x0a955bb91741321d913A7CcB2E1581C25771A3c6"
      abi: QBWorkspaceRegistryContract
      startBlock: 10070280
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      entities:
        - WorkspaceAdminsAdded
        - WorkspaceAdminsRemoved
        - WorkspaceCreated
        - WorkspaceUpdated
      abis:
        - name: QBWorkspaceRegistryContract
          file: ./abis/QBWorkspaceRegistryContract.json
      eventHandlers:
        - event: WorkspaceCreated(indexed uint96,indexed address,string,uint256)
          handler: handleWorkspaceCreated
        - event: WorkspaceUpdated(indexed uint96,indexed address,string,uint256)
          handler: handleWorkspaceUpdated
        - event: WorkspaceAdminsAdded(indexed uint96,address[],string[],uint256)
          handler: handleWorkspaceAdminsAdded
        - event: WorkspaceAdminsRemoved(indexed uint96,address[],uint256)
          handler: handleWorkspaceAdminsRemoved
      file: ./src/workspace-mapping.ts
  - kind: ethereum
    name: QBApplicationsContract
    network: rinkeby
    source:
      address: "0x741EeB03c9D70c1038eF933731A564EB26CE154d"
      abi: QBApplicationsContract
      startBlock: 10086136
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      entities:
        - ApplicationSubmitted
        - ApplicationUpdated
        - MilestoneUpdated
      abis:
        - name: QBApplicationsContract
          file: ./abis/QBApplicationsContract.json
      eventHandlers:
        - event: ApplicationSubmitted(indexed uint96,address,address,string,uint48,uint256)
          handler: handleApplicationSubmitted
        - event: ApplicationUpdated(indexed uint96,address,string,uint8,uint48,uint256)
          handler: handleApplicationUpdated
        - event: MilestoneUpdated(uint96,uint96,uint8,string,uint256)
          handler: handleMilestoneUpdated
      file: ./src/application-mapping.ts
  - kind: ethereum/contract
    name: QBGrantFactoryContract
    network: rinkeby
    source:
      address: "0xA156d3Bb28aA9240421fee6D11C9A9755B5C9aC5"
      abi: QBGrantFactoryContract
      startBlock: 10086128
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      entities:
        - GrantCreated
      abis:
        - name: QBGrantFactoryContract
          file: ./abis/QBGrantFactoryContract.json
      eventHandlers:
        - event: GrantCreated(address,uint96,string,uint256)
          handler: handleGrantCreated
      file: ./src/grant-mapping.ts
templates:
  - kind: ethereum/contract
    name: QBGrantsContract
    network: rinkeby
    source:
      abi: QBGrantsContract
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      file: ./src/grant-mapping.ts
      entities:
        - DisburseReward
        - GrantUpdated
        - FundsDeposited
        - FundsDepositFailed
        - DisburseReward
        - DisburseRewardFailed
      abis:
        - name: QBGrantsContract
          file: ./abis/QBGrantsContract.json
      eventHandlers:
        - event: DisburseReward(indexed uint96,uint96,address,address,uint256,uint256)
          handler: handleDisburseReward
        - event: DisburseRewardFailed(indexed uint96,uint96,address,address,uint256,uint256)
          handler: handleDisburseRewardFailed
        - event: FundsDepositFailed(address,uint256,uint256)
          handler: handleFundsDepositFailed
        - event: FundsDeposited(address,uint256,uint256)
          handler: handleFundsDeposited
        - event: GrantUpdated(indexed uint96,string,bool,uint256)
          handler: handleGrantUpdated